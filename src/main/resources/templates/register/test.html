<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{layouts/default_layout}">
<head>
<meta charset="UTF-8">
<title>register</title>
</head>
<body layout:fragment="content">
    <div class="content">
        <div class="container mt-5">
            <h2 class="mb-4 text-center">회원가입</h2>
            <div class="row justify-content-center">
                <!-- 프로필 사진 미리보기 및 업로드 -->
                <div class="col-md-3 text-center">
                    <label for="profileImg" class="form-label">프로필 사진</label>
                    <input type="file" class="form-control mb-2" id="profileImg" name="profileImg" accept="image/*">
                    <img id="profilePreview" src="/images/bagic.jpg" alt="프로필 사진 미리보기" style="max-width: 100%; border-radius: 10%; max-height: 400px;">
                </div>

                <!-- 회원가입 폼 -->
                <div class="col-md-6">
                    <form id="registerForm" enctype="multipart/form-data">
                        <!-- 아이디 -->
                        <div class="mb-3">
                            <label for="memId" class="form-label">아이디</label>
                            <input type="text" class="form-control" id="memId" name="memId" required>
                            <small id="idCheckResult" class="form-text"></small>
                        </div>

                        <!-- 비밀번호 -->
                        <div class="mb-3">
                            <label for="memPass" class="form-label">비밀번호</label>
                            <input type="password" class="form-control" id="memPass" name="memPass" required>
                        </div>

                        <!-- 비밀번호 확인 -->
                        <div class="mb-3">
                            <label for="passwordConfirm" class="form-label">비밀번호 확인</label>
                            <input type="password" class="form-control" id="passwordConfirm" name="passwordConfirm" required>
                            <small id="passwordFeedback" class="form-text"></small>
                        </div>

                        <!-- 이름 -->
                        <div class="mb-3">
                            <label for="memName" class="form-label">이름</label>
                            <input type="text" class="form-control" id="memName" name="memName" required>
                        </div>

                        <!-- 성별 (라디오 버튼) -->
                        <div class="mb-3">
                            <label class="form-label">성별</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memGender" id="genderMale" value="남성" required>
                                <label class="form-check-label" for="genderMale">남성</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memGender" id="genderFemale" value="여성" required>
                                <label class="form-check-label" for="genderFemale">여성</label>
                            </div>
                        </div>

                        <!-- MBTI -->
                        <div class="mb-3">
                            <label for="mbti" class="form-label">MBTI</label>
                            <input type="text" class="form-control" id="mbti" name="mbti" placeholder="예: INFP" required>
                        </div>

                        <!-- 직업 -->
                        <div class="mb-3">
                            <label for="memJob" class="form-label">직업</label>
                            <input type="text" class="form-control" id="memJob" name="memJob">
                        </div>

                        <!-- 생년월일 -->
                        <div class="mb-3">
                            <label for="memBirth" class="form-label">생년월일</label>
                            <input type="date" class="form-control" id="memBirth" name="memBirth" required>
                        </div>

                        <!-- 제출 버튼 -->
                        <button type="button" class="btn btn-primary w-100" onclick="previewData()">회원가입</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        function previewData() {
            // 폼 데이터를 객체로 수집
            const formData = {
                memId: document.getElementById("memId").value,
                memPass: document.getElementById("memPass").value,
                passwordConfirm: document.getElementById("passwordConfirm").value,
                memName: document.getElementById("memName").value,
                memGender: document.querySelector('input[name="memGender"]:checked')?.value,
                mbti: document.getElementById("mbti").value,
                memJob: document.getElementById("memJob").value,
                memBirth: document.getElementById("memBirth").value,
                profileImg: document.getElementById("profileImg").files[0]?.name || "기본 이미지 사용"
            };

            // 콘솔에 폼 데이터 출력
            console.log("회원가입 폼 데이터:", formData);
        }
    </script>
</body>
</html>
