<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	  layout:decorate="~{layouts/default_layout}">
<head>
<meta charset="UTF-8">
<title>register</title>

</head>
<body layout:fragment="content">
	<div class="content">
		<!-- 실패 메시지 표시 영역 -->
		<div id="errorMessage" th:if="${errorMessage}" class="alert alert-danger" role="alert">
		    <span th:text="${errorMessage}"></span>
		</div>
		<div class="container mt-5">
		<h2 class="mb-4 text-center">회원가입</h2>
            <div class="row justify-content-center">
                
                <!-- 회원가입 폼 및 프로필 사진 영역 -->
                <div class="col-md-8">
                    <form action="/members/register" method="POST" enctype="multipart/form-data">
                        <div class="row">
                            
                            <!-- 좌측 입력 필드 -->
                            <div class="col-md-7">
                                <!-- 아이디 -->
		                        <div class="mb-3">
		                            <label for="memId" class="form-label">아이디</label>
		                            <input type="text" class="form-control" id="memId" name="memId" onblur="checkDuplicateId()" required>
		                            <small id="idCheckResult" class="form-text"></small>
		                          
		                        </div>
		
		                        <!-- 비밀번호 -->
		                        <div class="mb-3">
		                            <label for="memPass" class="form-label">비밀번호</label>
		                            <input type="password" class="form-control" id="memPass" name="memPass" required>
		                        </div>
		
		                        <!-- 비밀번호 확인 -->
		                        <div class="mb-3">
		                            <label for="passwordConfirm" class="form-label">비밀번호 확인</label>
		                            <input type="password" class="form-control" id="passwordConfirm" name="passwordConfirm" required>
		                            <small id="passwordFeedback" class="form-text"></small>
		                        </div>

                                <!-- 이름 -->
                                <div class="mb-3">
                                    <label for="memName" class="form-label">이름</label>
                                    <input type="text" class="form-control" id="memName" name="memName" required>
                                </div>
                            </div>

                            <!-- 우측 이미지 미리보기 -->
                            <div class="col-md-5 d-flex align-items-center justify-content-center">
                                <div class="profile-preview-container">
                                    <img id="profilePreview" th:src="@{/images/bagic.jpg}" class="profile-preview-img">
                                </div>
                     
                            </div>
                        </div>
                        <!-- 성별 (라디오 버튼) -->
                        <div class="mb-3">
                            <label class="form-label">성별</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memGender" id="genderMale" value="남성" required>
                                <label class="form-check-label" for="genderMale">남성</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memGender" id="genderFemale" value="여성" required>
                                <label class="form-check-label" for="genderFemale">여성</label>
                            </div>
                        </div>

                        <!-- MBTI -->
						<div class="mb-3">
						    <label for="mbti" class="form-label">MBTI</label>
						    <select class="form-select" id="mbti" name="memMbti" required>
						        <option value="">선택하세요</option>
						        <th:block th:each="mbti : ${mbtiList}">
						            <option th:value="${mbti.mbtiCode}" th:text="${mbti.mbtiCode + ' : ' + mbti.mbtiKeywords}"></option>
						        </th:block>
						    </select>
						</div>

                        <!-- 직업 -->
                        <div class="mb-3">
                            <label for="memJob" class="form-label">직업</label>
                            <input type="text" class="form-control" id="memJob" name="memJob">
                        </div>

                        <!-- 생년월일 -->
                        <div class="mb-3">
                            <label for="memBirth" class="form-label">생년월일</label>
                            <input type="date" class="form-control" id="memBirth" name="memBirth" required>
                        </div>

                        <!-- 제출 버튼 -->
                        <button type="submit" class="btn btn-primary w-100">회원가입</button>
                    </form>
                </div>
            </div>
		
		</div>
	
	</div>

</body>

</html>